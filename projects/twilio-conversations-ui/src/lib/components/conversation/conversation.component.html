<ng-template #view>
  <div class="modal-container">
    <div class="title">
      <h2>How to create component dynamically in Angular ?</h2>
    </div>
    <div class="content">
      <p class="current">
        This is the first method. First method is to use a ViewContainerRef
        with a Template Ref. You create the view contained within the
        TemplateRef, then create the modal component and inject the view.
      </p>
    </div>
    <div class="footer">
      <button (click)="close()">Close</button>
    </div>
  </div>
</ng-template>

<ng-container *ngIf="conversation; else emptyConvo">

  <div class="container">
    <header class="conversation-header">
      <div class="container">
        <div class="col-9">

          <h2>{{conversationUi?.displayName}}</h2>
          <p class="conversation-participants">{{conversationUi?.displayParticipants}}</p>
        </div>
        <div class="col-1">
          <button (click)="openModalComponent()">Open modal with a component</button>
          <button (click)="openModalTemplate(view)">Open modal with a template</button>
        </div>
      </div>

    </header>
    <ul class="px-5">
      <li *ngFor="let message of messages"
        [ngClass]="{'message-item': true, 'left': !isAuthor(message), 'right': isAuthor(message)}">
        <div class="participant-avatar">
          <img src="https://avatars.abstractapi.com/v1/?api_key=80ff55a185b54997ad44e8b2fc81e175&name=Coquito%20Patas"
            alt="conversation-img">
        </div>
        <div class="message-info-container">
          <h3 class="message-author">
            {{message.author}}
          </h3>
          <p class="message-body">
            {{message.body}}
            <time class="message-date">
              {{message.dateCreated | dateFormat}}
            </time>
          </p>
        </div>
      </li>
    </ul>
    <div id="message-box">
      <emoji-mart *ngIf="showEmojiPicker" (emojiClick)="addEmoji($event, messageBody)"></emoji-mart>
      <div class="input-container">
        <button (click)="toggleEmojiPicker()">ðŸ˜Š</button>
        <input #messageBody type="text" placeholder="Write a message..." class="message-input"
          (keyup.enter)="sendMessage(messageBody)">

      </div>
    </div>
  </div>
</ng-container>
<ng-template #emptyConvo>
  <div class="empty-conversation">
    <h2>No conversation selected</h2>
  </div>
</ng-template>